(this["webpackJsonpdata-collector"]=this["webpackJsonpdata-collector"]||[]).push([[0],{123:function(e,a,t){e.exports=t(153)},128:function(e,a,t){},147:function(e,a,t){},151:function(e,a,t){},153:function(e,a,t){"use strict";t.r(a);var n,l=t(0),r=t.n(l),o=t(12),c=t.n(o),i=(t(128),t(11)),u=t(182),s=t(209),m=t(187),d=t(199),f=t(190),b=t(202),p=t(208),g=t(211),E=t(203),v=t(213),h=t(189),y=t(205),S=t(16),O=t(200),j=t(97),_=t(85);t.n(_).a.config();var k={appServerUrl:null!==(n=Object({NODE_ENV:"production",PUBLIC_URL:"/kinrai",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).APP_SERVER_URL)&&void 0!==n?n:"https://neutron-dot-restaurant-recommender-system.et.r.appspot.com"},C=t(26),x=t.n(C),T=t(39),w=t.n(T),P="\u0e40\u0e27\u0e47\u0e1a\u0e44\u0e0b\u0e15\u0e4c\u0e19\u0e35\u0e49\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e43\u0e19\u0e23\u0e32\u0e22\u0e27\u0e34\u0e0a\u0e32 CPE401 COMPUTER ENGINEERING PROJECT \u0e2b\u0e23\u0e37\u0e2d Senior Project \u0e02\u0e2d\u0e07\u0e19\u0e31\u0e01\u0e28\u0e36\u0e01\u0e29\u0e32\u0e04\u0e13\u0e30\u0e27\u0e34\u0e28\u0e27\u0e01\u0e23\u0e23\u0e21\u0e28\u0e32\u0e2a\u0e15\u0e23\u0e4c \u0e20\u0e32\u0e04\u0e27\u0e34\u0e0a\u0e32\u0e27\u0e34\u0e28\u0e27\u0e01\u0e23\u0e23\u0e21\u0e04\u0e2d\u0e21\u0e1e\u0e34\u0e27\u0e40\u0e15\u0e2d\u0e23\u0e4c \u0e21\u0e2b\u0e32\u0e27\u0e34\u0e17\u0e22\u0e32\u0e25\u0e31\u0e22\u0e40\u0e17\u0e04\u0e42\u0e19\u0e42\u0e25\u0e22\u0e35\u0e1e\u0e23\u0e30\u0e08\u0e2d\u0e21\u0e40\u0e01\u0e25\u0e49\u0e32\u0e18\u0e19\u0e1a\u0e38\u0e23\u0e35 \u0e0b\u0e36\u0e48\u0e07\u0e44\u0e14\u0e49\u0e08\u0e31\u0e14\u0e17\u0e33\u0e02\u0e36\u0e49\u0e19\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e01\u0e47\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e19\u0e33\u0e44\u0e1b\u0e1e\u0e31\u0e12\u0e19\u0e32\u0e2d\u0e31\u0e25\u0e01\u0e2d\u0e23\u0e36\u0e17\u0e36\u0e21\u0e02\u0e2d\u0e07\u0e23\u0e30\u0e1a\u0e1a \u0e42\u0e14\u0e22\u0e40\u0e01\u0e47\u0e1a\u0e08\u0e32\u0e01\u0e04\u0e30\u0e41\u0e19\u0e19\u0e04\u0e27\u0e32\u0e21\u0e2a\u0e19\u0e43\u0e08\u0e02\u0e2d\u0e07\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e15\u0e48\u0e2d\u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32\u0e17\u0e35\u0e48\u0e23\u0e30\u0e1a\u0e1a\u0e44\u0e14\u0e49\u0e17\u0e33\u0e01\u0e32\u0e23\u0e41\u0e19\u0e30\u0e19\u0e33\u0e02\u0e36\u0e49\u0e19 \u0e02\u0e2d\u0e1a\u0e04\u0e38\u0e13\u0e17\u0e35\u0e48\u0e43\u0e2b\u0e49\u0e04\u0e27\u0e32\u0e21\u0e23\u0e48\u0e27\u0e21\u0e21\u0e37\u0e2d\u0e04\u0e48\u0e30/\u0e04\u0e23\u0e31\u0e1a",R="\u0e0a\u0e48\u0e27\u0e07\u0e23\u0e32\u0e04\u0e32\u0e02\u0e2d\u0e07\u0e23\u0e49\u0e32\u0e19\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e17\u0e35\u0e48\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e43\u0e2b\u0e49\u0e23\u0e30\u0e1a\u0e1a\u0e41\u0e19\u0e30\u0e19\u0e33",I="\u0e2a\u0e48\u0e27\u0e19\u0e19\u0e35\u0e49\u0e43\u0e2b\u0e49\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e43\u0e2b\u0e49\u0e04\u0e30\u0e41\u0e19\u0e19\u0e04\u0e27\u0e32\u0e21\u0e0a\u0e2d\u0e1a\u0e02\u0e2d\u0e07\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e15\u0e48\u0e32\u0e07 \u0e46 \u0e14\u0e31\u0e07\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49 \u0e42\u0e14\u0e22\u0e21\u0e35\u0e04\u0e30\u0e41\u0e19\u0e19\u0e15\u0e31\u0e49\u0e07\u0e41\u0e15\u0e48 0 \u0e16\u0e36\u0e07 10 \u0e40\u0e21\u0e37\u0e48\u0e2d\u0e40\u0e2a\u0e23\u0e47\u0e08\u0e41\u0e25\u0e49\u0e27\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e01\u0e14 REGISTER \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e23\u0e31\u0e1a\u0e04\u0e33\u0e41\u0e19\u0e30\u0e19\u0e33\u0e08\u0e32\u0e01\u0e23\u0e30\u0e1a\u0e1a\u0e44\u0e14\u0e49\u0e40\u0e25\u0e22",M="\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e01\u0e14 REGISTER \u0e41\u0e25\u0e49\u0e27\u0e08\u0e30\u0e21\u0e35\u0e01\u0e32\u0e23\u0e02\u0e2d\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e16\u0e36\u0e07\u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07\u0e1b\u0e31\u0e08\u0e08\u0e38\u0e1a\u0e31\u0e19 \u0e23\u0e1a\u0e01\u0e27\u0e19\u0e01\u0e14 allow \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e43\u0e2b\u0e49\u0e23\u0e30\u0e1a\u0e1a\u0e44\u0e14\u0e49\u0e17\u0e33\u0e01\u0e32\u0e23\u0e41\u0e19\u0e30\u0e19\u0e33\u0e23\u0e49\u0e32\u0e19\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e17\u0e35\u0e48\u0e43\u0e01\u0e25\u0e49\u0e40\u0e04\u0e35\u0e22\u0e07\u0e15\u0e31\u0e27\u0e04\u0e38\u0e13",U="\u0e23\u0e30\u0e1a\u0e1a\u0e08\u0e30\u0e41\u0e19\u0e30\u0e19\u0e33\u0e23\u0e49\u0e32\u0e19\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e17\u0e35\u0e48\u0e43\u0e01\u0e25\u0e49\u0e15\u0e31\u0e27\u0e04\u0e38\u0e13\u0e21\u0e32\u0e01\u0e17\u0e35\u0e48\u0e2a\u0e38\u0e14\u0e15\u0e32\u0e21\u0e04\u0e27\u0e32\u0e21\u0e2a\u0e19\u0e43\u0e08\u0e02\u0e2d\u0e07\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 \u0e42\u0e14\u0e22\u0e08\u0e30\u0e43\u0e2b\u0e49\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e43\u0e2b\u0e49\u0e2b\u0e31\u0e27\u0e43\u0e08\u0e15\u0e32\u0e21\u0e04\u0e27\u0e32\u0e21\u0e19\u0e48\u0e32\u0e2a\u0e19\u0e43\u0e08 \u0e19\u0e48\u0e32\u0e44\u0e1b\u0e25\u0e2d\u0e07\u0e02\u0e2d\u0e07\u0e23\u0e49\u0e32\u0e19\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e19\u0e31\u0e49\u0e19 \u0e46 \u0e42\u0e14\u0e22\u0e2b\u0e31\u0e27\u0e43\u0e08\u0e08\u0e30\u0e21\u0e35\u0e15\u0e31\u0e49\u0e07\u0e41\u0e15\u0e48 1 \u0e14\u0e27\u0e07\u0e08\u0e19\u0e16\u0e36\u0e07 5 \u0e14\u0e27\u0e07 \u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e14\u0e39\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e23\u0e49\u0e32\u0e19\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21\u0e08\u0e32\u0e01 Facebook \u0e44\u0e14\u0e49\u0e42\u0e14\u0e22\u0e01\u0e14\u0e17\u0e35\u0e48 PAGE \u0e41\u0e25\u0e30\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e04\u0e23\u0e1a 20 \u0e23\u0e49\u0e32\u0e19\u0e41\u0e25\u0e49\u0e27 \u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e23\u0e30\u0e1a\u0e1a\u0e44\u0e14\u0e49\u0e42\u0e14\u0e22\u0e01\u0e32\u0e23\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e17\u0e35\u0e48 LOGOUT \u0e2b\u0e23\u0e37\u0e2d\u0e08\u0e30\u0e23\u0e31\u0e1a\u0e04\u0e33\u0e41\u0e19\u0e30\u0e19\u0e33\u0e15\u0e48\u0e2d\u0e44\u0e14\u0e49\u0e42\u0e14\u0e22\u0e01\u0e32\u0e23\u0e01\u0e14\u0e40\u0e25\u0e37\u0e2d\u0e01 SUGGEST MORE",B=(t(147),[{category:"5f9ab47d7fc4aaabd3eb50ba",label:"Thai",value:50,original_value:50},{category:"5f9ab47d7fc4aaabd3eb50c9",label:"Japanese",value:50,original_value:50},{category:"5f9ab4817fc4aaabd3eb5137",label:"Chinese",value:50,original_value:50},{category:"5f9ab47e7fc4aaabd3eb50ea",label:"Korean",value:50,original_value:50},{category:"5f9ab47d7fc4aaabd3eb50bb",label:"Italian",value:50,original_value:50},{category:"5f9ab47e7fc4aaabd3eb50f0",label:"Fast Food",value:50,original_value:50},{category:"5f9ab4807fc4aaabd3eb512c",label:"Buffet",value:50,original_value:50},{category:"5f9ab47e7fc4aaabd3eb50e5",label:"Seafood",value:50,original_value:50},{category:"5f9ab4807fc4aaabd3eb5117",label:"Noodle",value:50,original_value:50},{category:"5f9ab4827fc4aaabd3eb5153",label:"Steakhouse",value:50,original_value:50},{category:"5f9ab4837fc4aaabd3eb5187",label:"Shabu Shabu",value:50,original_value:50}]),F=function(){var e=Object(l.useState)(!1),a=Object(i.a)(e,2),t=a[0],n=a[1],o=Object(l.useState)(""),c=Object(i.a)(o,2),d=c[0],_=c[1],C=Object(l.useState)(""),T=Object(i.a)(C,2),U=T[0],F=T[1],G=Object(l.useState)(""),z=Object(i.a)(G,2),W=z[0],N=z[1],L=Object(l.useState)(null),D=Object(i.a)(L,2),K=D[0],A=D[1],H=Object(l.useState)(""),J=Object(i.a)(H,2),V=J[0],q=J[1],$=Object(l.useState)(!1),Y=Object(i.a)($,2),Z=Y[0],Q=Y[1],X=Object(l.useState)(B),ee=Object(i.a)(X,2),ae=ee[0],te=ee[1];Object(l.useEffect)((function(){n(!0)}),[]);var ne=[{value:0,label:"Hate"},{value:5,label:"Okay"},{value:10,label:"Love"}],le=B.map((function(e,a){var t=e.category,n=e.label;e.value;return r.a.createElement(b.a,{key:t,marginBottom:"50px"},r.a.createElement("p",{style:{marginBottom:"0px"}},r.a.createElement("strong",null,n)),r.a.createElement(p.a,{index:t,min:0,max:10,defaultValue:5,"aria-labelledby":"discrete-slider-custom",step:1,valueLabelDisplay:"auto",onChange:function(e,t){!function(e,a,t){ae[a].value=10*t,ae[a].original_value=10*t,te(ae)}(0,a,t)},marks:ne}))}));return r.a.createElement("div",null,r.a.createElement("p",{style:{color:"gray"}},P),r.a.createElement("h3",null,"Registration"),t?r.a.createElement("div",null,r.a.createElement(u.a,{fullWidth:!0},r.a.createElement(s.a,{fullWidth:!0,error:""!==d,helperText:d,value:U,onChange:function(e){var a=e.target.value,t="";a.match(/^[0-9a-zA-Z]+$/)||(t="Cannot contain special charecters."),""===a&&(t="Username cannot be blank."),""===t&&x.a.get("".concat(k.appServerUrl,"/api/users/has/").concat(a)).then((function(e){t=e.data?"This name is already existed":"",_(t)})),_(t),F(a)},variant:"outlined",label:"New Username"}),r.a.createElement("p",null),r.a.createElement(u.a,{variant:"outlined"},r.a.createElement(g.a,null,"Gender"),r.a.createElement(E.a,{variant:"outlined",value:W,onChange:function(e){N(e.target.value)},label:"Gender"},r.a.createElement(v.a,{value:"none"},r.a.createElement("em",null,"Select gender...")),r.a.createElement(v.a,{value:"male"},"Male"),r.a.createElement(v.a,{value:"female"},"Female"))),r.a.createElement(S.a,{utils:j.a},r.a.createElement(O.a,{margin:"normal",inputVariant:"outlined",id:"date-picker-dialog",label:"Birth Date",format:"dd/MM/yyyy",value:K,onChange:function(e){A(e)},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement("h4",null,"Profile"),r.a.createElement("p",{style:{color:"gray"}},R),r.a.createElement(u.a,{variant:"outlined"},r.a.createElement(g.a,{id:"demo-simple-select-filled-label"},"Price Preference"),r.a.createElement(E.a,{labelId:"demo-simple-select-filled-label",variant:"outlined",value:V,onChange:function(e){q(e.target.value)},label:"Price Preference"},r.a.createElement(v.a,{value:"none"},r.a.createElement("em",null,"Select prefer price...")),r.a.createElement(v.a,{value:1},"\u0e3f - \u0e16\u0e39\u0e01\u0e01\u0e27\u0e48\u0e32 100 \u0e1a\u0e32\u0e17"),r.a.createElement(v.a,{value:2},"\u0e3f\u0e3f - 100-250 \u0e1a\u0e32\u0e17"),r.a.createElement(v.a,{value:3},"\u0e3f\u0e3f\u0e3f - 251-500 \u0e1a\u0e32\u0e17"),r.a.createElement(v.a,{value:4},"\u0e3f\u0e3f\u0e3f\u0e3f - 500 \u0e1a\u0e32\u0e17+ "),r.a.createElement(v.a,{value:-1},"No Preference"),"\u0e3f")),r.a.createElement("p",null),r.a.createElement(h.a,{control:r.a.createElement(y.a,{checked:Z,onChange:function(e){Q(e.target.checked)}}),label:"Prefer nearby"}),r.a.createElement("p",null),r.a.createElement("h4",null,"Favorite Categories"),r.a.createElement("p",{style:{color:"gray"}},I),r.a.createElement(b.a,{padding:"20px"},le)),r.a.createElement("p",{style:{color:"gray"}},M),r.a.createElement(m.a,{onClick:function(){if(""!==d)alert(d);else{var e=[];if(""===U&&e.push("Username"),""===W&&e.push("Gender"),K||e.push("Birthdate"),""===V&&e.push("Prefer Price"),e.length>0)alert("Please fill in theres fields: ".concat(e.join(", ")));else{n(!1);var a={username:U,profile:{gender:W,birthdate:K,preference:{categories:ae,price_range:V,prefer_nearby:Z}}};x.a.post("".concat(k.appServerUrl,"/api/users"),a).then((function(e){"username"in e.data?(w.a.set("username",e.data.username),window.location.reload()):(alert("Error creating new user"),n(!0))})).catch((function(e){console.log(e),alert(e.response),n(!0)}))}}},variant:"contained",color:"primary"},"Register"),r.a.createElement("p",null,"\xa0")):r.a.createElement(f.a,null))},G=t(99),z=t(103),W=t(192),N=t(206),L=t(193),D=t(185),K=t(186),A=t(100),H=t(194),J=t(195),V=t(196),q=t(214),$=t(197),Y=t(94),Z=t.n(Y),Q=t(89),X=t.n(Q),ee=t(92),ae=t.n(ee),te=t(93),ne=t.n(te),le=t(95),re=t.n(le),oe=t(96),ce=t.n(oe),ie=t(91),ue=t.n(ie),se=t(90),me=t.n(se),de=function(e){return e*Math.PI/180},fe=t(4),be=t(207),pe=t(191),ge=(t(151),r.a.forwardRef((function(e,a){return r.a.createElement(pe.a,Object.assign({direction:"up",ref:a},e))}))),Ee=Object(fe.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(be.a),ve=[{category:"5f9ab47d7fc4aaabd3eb50ba",label:"Thai",value:50,original_value:50},{category:"5f9ab47e7fc4aaabd3eb50f0",label:"Fast Food",value:50,original_value:50},{category:"5f9ab4807fc4aaabd3eb512c",label:"Buffet",value:50,original_value:50},{category:"5f9ab47d7fc4aaabd3eb50c9",label:"Japanese",value:50,original_value:50},{category:"5f9ab4817fc4aaabd3eb5137",label:"Chinese",value:50,original_value:50},{category:"5f9ab47e7fc4aaabd3eb50e5",label:"Seafood",value:50,original_value:50},{category:"5f9ab4807fc4aaabd3eb5117",label:"Noodle",value:50,original_value:50},{category:"5f9ab4827fc4aaabd3eb5153",label:"Steakhouse",value:50,original_value:50},{category:"5f9ab47e7fc4aaabd3eb50ea",label:"Korean",value:50,original_value:50},{category:"5f9ab47d7fc4aaabd3eb50bb",label:"Italian",value:50,original_value:50},{category:"5f9ab4837fc4aaabd3eb5187",label:"Shabu Shabu",value:50,original_value:50}],he=function(e){return r.a.createElement(b.a,{display:"flex",alignItems:"center"},r.a.createElement(b.a,{width:"100%",mr:1},r.a.createElement(f.a,Object.assign({variant:"determinate"},e))),r.a.createElement(b.a,{minWidth:35},r.a.createElement(z.a,{variant:"body2",color:"textSecondary"},e.label)))},ye=function(e){var a,t,n,o=Object(l.useState)("Getting start."),c=Object(i.a)(o,2),s=c[0],d=c[1],p=Object(l.useState)(null),S=Object(i.a)(p,2),O=S[0],j=S[1],_=Object(l.useState)(null),C=Object(i.a)(_,2),T=C[0],P=C[1],R=Object(l.useState)(null),I=Object(i.a)(R,2),M=I[0],B=I[1],F=Object(l.useState)([]),z=Object(i.a)(F,2),Y=z[0],Q=z[1],ee=Object(l.useState)(0),te=Object(i.a)(ee,2),le=te[0],oe=te[1],ie=Object(l.useState)(0),se=Object(i.a)(ie,2),fe=se[0],be=se[1],pe=Object(l.useState)(!1),ye=Object(i.a)(pe,2),Se=ye[0],Oe=ye[1],je=Object(l.useState)(!1),_e=Object(i.a)(je,2),ke=_e[0],Ce=_e[1],xe=Object(l.useState)(!1),Te=Object(i.a)(xe,2),we=Te[0],Pe=Te[1],Re=Object(l.useState)(null),Ie=Object(i.a)(Re,2),Me=Ie[0],Ue=Ie[1],Be=Object(l.useState)([]),Fe=Object(i.a)(Be,2),Ge=Fe[0],ze=Fe[1],We=Object(l.useState)(-1),Ne=Object(i.a)(We,2),Le=Ne[0],De=Ne[1],Ke=Object(l.useState)(!0),Ae=Object(i.a)(Ke,2),He=Ae[0],Je=Ae[1];Object(l.useEffect)((function(){d("Getting current location"),"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(a){P([a.coords.longitude,a.coords.latitude]),console.log(a.coords),d("Getting recommendations"),x.a.post("".concat(k.appServerUrl,"/api/recommendations/init"),{users:[e.user._id],location:{type:"Point",coordinates:[a.coords.longitude,a.coords.latitude]}}).then((function(e){console.log(e.data),B(e.data._id),x.a.post("".concat(k.appServerUrl,"/api/recommendations/request"),{token:e.data._id,histories:[]}).then((function(e){console.log(e.data),j(e.data.recommendations),d(""),Pe(!1),Oe(!0)})).catch((function(e){alert(e)}))})).catch((function(e){alert(e)}))})):alert("Geolocation is disabled")}),[e.user._id]);var Ve,qe=function(){console.log("finish!"),console.log(Y),Pe(!0),x.a.post("".concat(k.appServerUrl,"/api/recommendations/request"),{token:M,histories:Y}).then((function(e){console.log(e.data),j(e.data.recommendations)}))},$e=function(){var e=le+1;oe(e),be(0),e>=O.length?qe():setTimeout((function(){Oe(!0)}),100)},Ye=function(e){setTimeout((function(){Oe(!1),setTimeout((function(){O[le].has_profile||5!==e?le<O.length-1?$e():qe():Qe()}),100)}),100)},Ze=r.a.createElement(W.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(X.a,{style:{fontSize:100},color:"secondary"}),r.a.createElement("h3",null,"Thank you."),r.a.createElement(m.a,{onClick:function(){be(0),oe(0),Pe(!1),Oe(!0)},variant:"contained",color:"primary"},"Suggest More")),Qe=function(){Ce(!0)},Xe=function(){De(-1),ze([]),Ce(!1),le>=O.length-1?qe():$e()},ea=r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{open:He,"aria-labelledby":"form-dialog-title"},r.a.createElement(L.a,null,"\u0e04\u0e33\u0e41\u0e19\u0e30\u0e19\u0e33"),r.a.createElement(D.a,null,r.a.createElement("p",null,U)),r.a.createElement(K.a,null,r.a.createElement(m.a,{onClick:function(){return Je(!1)},color:"secondary"},"START")))),aa=r.a.createElement(r.a.Fragment,null,!we&&r.a.createElement(N.a,{open:ke,"aria-labelledby":"form-dialog-title"},r.a.createElement(D.a,null,r.a.createElement("h2",{style:{margin:"0"}},O&&O[le].name),r.a.createElement("p",{style:{margin:"10px 0 40px",color:"gray",fontSize:"0.7rem"}},"This restaurant has no profile. If you have ever go to this restaurnat, could you please give us some information about this restaurant. You can skip this by tapping SKIP"),O&&(-1===O[le].profile.price_range||null===O[le].profile.price_range||!("price_range"in O[le].profile))&&r.a.createElement(u.a,{fullWidth:!0,variant:"outlined"},r.a.createElement(g.a,{id:"price-select-filled-label"},"Price"),r.a.createElement(E.a,{labelId:"price-select-filled-label",variant:"outlined",value:Le,onChange:function(e){De(e.target.value)},label:"Price"},r.a.createElement(v.a,{value:"none"},r.a.createElement("em",null,"Price...")),r.a.createElement(v.a,{value:1},"\u0e3f - \u0e16\u0e39\u0e01\u0e01\u0e27\u0e48\u0e32 100 \u0e1a\u0e32\u0e17"),r.a.createElement(v.a,{value:2},"\u0e3f\u0e3f - 100-250 \u0e1a\u0e32\u0e17"),r.a.createElement(v.a,{value:3},"\u0e3f\u0e3f\u0e3f - 251-500 \u0e1a\u0e32\u0e17"),r.a.createElement(v.a,{value:4},"\u0e3f\u0e3f\u0e3f\u0e3f - 500 \u0e1a\u0e32\u0e17+ "),r.a.createElement(v.a,{value:-1},"No Data"),"\u0e3f")),r.a.createElement("p",null,r.a.createElement("strong",null,"Restaurant Types")),r.a.createElement(u.a,null,ve.map((function(e){var a=e.category,t=e.label;return r.a.createElement(h.a,{fullWidth:!0,control:r.a.createElement(y.a,{checked:Ge.includes(a),onChange:function(){return function(e){var a=(null===Ge||void 0===Ge?void 0:Ge.includes(e))?null===Ge||void 0===Ge?void 0:Ge.filter((function(a){return a!==e})):[].concat(Object(G.a)(null!==Ge&&void 0!==Ge?Ge:[]),[e]);return ze(a),console.log(a),a}(a)},name:a}),key:a,label:t})})))),r.a.createElement(K.a,null,r.a.createElement(m.a,{onClick:Xe,color:"secondary"},"SKIP"),r.a.createElement(m.a,{onClick:function(){var e={has_profile:Ge.length>0,profile:{price_range:Le,categories:Ge}};console.log(e),x.a.put("".concat(k.appServerUrl,"/api/restaurants/").concat(O[le]._id),e).then((function(e){console.log(e.data),Xe()})).catch((function(e){console.log(e),alert(e),Xe()}))},variant:"contained",color:"primary"},"SUBMIT")))),ta=function(a){var t={restaurant:O[le]._id,is_love:null,is_skip:!0,rating:0,timestamp:Date.now()};Y.push(t),Q(Y);var n={restaurant:O[le]._id,username:e.user.username,message:a};x.a.post("".concat(k.appServerUrl,"/api/reports"),n).then((function(e){console.log(e)})).catch((function(e){alert(e)})).finally((function(){console.log(n),na(),Ye(0)}))},na=function(){Ue(null)},la=r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{style:{marginBottom:"20px"},"aria-controls":"simple-menu","aria-haspopup":"true",color:"primary",onClick:function(e){Ue(e.currentTarget)}},"Report"),r.a.createElement(A.a,{id:"simple-menu",anchorEl:Me,keepMounted:!0,open:Boolean(Me),onClose:na},r.a.createElement(v.a,{onClick:function(){ta("duplicated")}},"This restaurant is duplicated"),r.a.createElement(v.a,{onClick:function(){ta("closed")}},"This restaurant is permanently closed"),r.a.createElement(v.a,{onClick:function(){ta("non-existed")}},"This restaurant is not existed"))),ra=r.a.createElement("div",null,O&&le<O.length&&r.a.createElement("div",null,r.a.createElement(he,{variant:"determinate",value:(le+1)/O.length*100,label:"".concat(le+1,"/").concat(O.length)}),r.a.createElement("p",null),r.a.createElement(N.a,{style:{overflow:"scroll !important"},fullWidth:!0,open:Se,TransitionComponent:ge,keepMounted:!0},r.a.createElement(H.a,null,O[le].cover_url&&r.a.createElement(J.a,{component:"img",image:O[le].cover_url,title:"Contemplative Reptile",height:"160"}),r.a.createElement(V.a,null,r.a.createElement("h2",{style:{marginBottom:"0px",marginTop:"5px"}},null!==(a=O[le].name)&&void 0!==a?a:""),r.a.createElement("p",{style:{fontSize:"10px",color:"gray",marginBottom:"0px"}},O[le].address),r.a.createElement(b.a,{display:"flex"},r.a.createElement(m.a,{style:{marginBottom:"20px"},startIcon:r.a.createElement(me.a,null),color:"secondary",onClick:function(){!function(e,a){var t="https://www.google.com/maps/search/".concat(e,",").concat(a);window.open(t,"_blank")}(O[le].location.coordinates[1],O[le].location.coordinates[0])}},"Map"),r.a.createElement(m.a,{style:{marginBottom:"20px"},startIcon:r.a.createElement(ue.a,null),color:"secondary",onClick:function(){var e;e=O[le].link,window.open(e,"_blank")}},"Page"),r.a.createElement(b.a,{flexGrow:"1"}),la),r.a.createElement("div",null,O[le].profile.categories.map((function(e){var a=e._id,t=e.name_en;return r.a.createElement(q.a,{key:a,style:{marginBottom:"5px",marginRight:"10px"},label:t})}))),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,null!==(t="".concat((Ve=O[le],T?function(e,a,t,n){var l=de(t-e),r=de(n-a),o=Math.sin(l/2)*Math.sin(l/2)+Math.cos(de(e))*Math.cos(de(t))*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371}(Ve.location.coordinates[1],Ve.location.coordinates[0],T[1],T[0]):0).toFixed(2)," km"))&&void 0!==t?t:"","\xa0\xa0\xa0\xa0\xa0"),-1!==O[le].profile.price_range&&r.a.createElement("span",null,"\u0e3f".repeat(O[le].profile.price_range),"\xa0\xa0\xa0\xa0\xa0"),O[le].profile.rating&&r.a.createElement("span",null,r.a.createElement(ae.a,{style:{fontSize:14}})," ",O[le].profile.rating,"\xa0\xa0\xa0\xa0\xa0"),O[le].profile.likes&&r.a.createElement("span",null,r.a.createElement(ne.a,{style:{fontSize:14}})," ",O[le].profile.likes)))),r.a.createElement($.a,{style:{paddingTop:"0"}},r.a.createElement(b.a,{component:"fieldset",style:{width:"100%",textAlign:"center"},width:"100%",borderColor:"transparent"},r.a.createElement(b.a,{display:"flex",padding:"0px 20px",color:"gray",fontSize:"0.8rem",justifyContent:"space-between"},r.a.createElement(b.a,null,"Not Interested"),r.a.createElement(b.a,null,"Interested")),r.a.createElement(Ee,{onChange:function(e,a){var t={restaurant:O[le]._id,is_love:null,is_skip:!1,rating:a-3,timestamp:Date.now()};Y.push(t),Q(Y),be(a),Ye(fe)},value:fe,style:{fontSize:"2.5rem"},name:"customized-color",defaultValue:0,getLabelText:function(e){return"".concat(e," Heart").concat(1!==e?"s":"")},precision:1,icon:r.a.createElement(Z.a,{fontSize:"inherit"})})))))),O&&we&&r.a.createElement("div",null,Ze));return r.a.createElement("div",null,r.a.createElement(W.a,{container:!0,direction:"row",justify:"space-between"},r.a.createElement("h3",null,"Hi, ",null!==(n=e.user.username)&&void 0!==n?n:""),r.a.createElement(m.a,{onClick:function(){w.a.remove("username"),window.location.reload()},size:"small",color:"secondary"},"Logout")),T?r.a.createElement("div",{style:{color:"gray"}},r.a.createElement(re.a,{style:{fontSize:"14px"}})," ",T[1].toFixed(6),", ",T[0].toFixed(6)):r.a.createElement(ce.a,{style:{fontSize:"14px"}}),r.a.createElement("p",null),He&&r.a.createElement(r.a.Fragment,null,ea),s?r.a.createElement("div",null,r.a.createElement("p",null,s),r.a.createElement(f.a,null)):r.a.createElement("div",null,!He&&r.a.createElement(r.a.Fragment,null,ra,aa)),r.a.createElement("p",null))},Se=t(98),Oe=t(198),je=Object(Se.a)({palette:{primary:{light:"#ffa040",main:"#ff6f00",dark:"#c43e00",contrastText:"#fff"},secondary:{light:"#63a4ff",main:"#1976d2",dark:"#004ba0",contrastText:"#fff"}}}),_e=function(){var e=Object(l.useState)(!1),a=Object(i.a)(e,2),t=a[0],n=a[1],o=Object(l.useState)(null),c=Object(i.a)(o,2),b=c[0],p=c[1],g=Object(l.useState)(""),E=Object(i.a)(g,2),v=E[0],h=E[1],y=Object(l.useState)(!0),S=Object(i.a)(y,2),O=S[0],j=S[1];Object(l.useEffect)((function(){var e=w.a.get("username");e?_(e):n(!0)}),[]);var _=function(e){x.a.post("".concat(k.appServerUrl,"/api/auth"),{username:e}).then((function(e){var a=e.data;a.status?(w.a.set("username",a.data.username),p(a.data),n(!0)):(alert(a.error),n(!0))})).catch((function(e){alert(e)}))},C=r.a.createElement("div",null,r.a.createElement("h3",null,"Please login"),r.a.createElement(u.a,{fullWidth:!0},r.a.createElement(s.a,{onChange:function(e){h(e.target.value)},variant:"outlined",label:"Username"})),r.a.createElement(m.a,{onClick:function(){n(!1),console.log(k),_(v)},style:{marginTop:"10px"},variant:"contained",color:"primary"},"Login"),r.a.createElement("h4",null,"or"),r.a.createElement(m.a,{onClick:function(){return j(!0)},variant:"contained",color:"primary"},"Register"));return r.a.createElement("div",null,r.a.createElement(Oe.a,{theme:je},r.a.createElement(d.a,{component:"main",maxWidth:"xs"},r.a.createElement("h1",null,"Resteraunt Recommender"),t?r.a.createElement("div",null,!O&&!b&&C,O&&!b&&r.a.createElement("div",null,r.a.createElement(m.a,{onClick:function(){return j(!1)},color:"primary"},"Login"),r.a.createElement(F,null)),b&&r.a.createElement(ye,{user:b,name:b.username})):r.a.createElement(f.a,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[123,1,2]]]);
//# sourceMappingURL=main.1755f7c5.chunk.js.map